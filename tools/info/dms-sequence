#!/usr/bin/garden-exec
#{
# garden env-keep-only
# . $(dirname $0)/../share/env.sh
# exec python $0 "$@"
#}

'''
dms-sequence [--with-duplicates] [--without-duplicates] [ dms files ]

Write sequences in a dms file to stdout.

'''

import sys, os
sys.path.insert(0,os.path.join(os.path.dirname(__file__),'..','lib','python'))

import msys
from msys import sequence

def main():
    import optparse
    parser = optparse.OptionParser(__doc__)
    parser.add_option('--with-duplicates', action='store_false', default=True, 
            dest='distinct', help="Print duplicate sequences")
    parser.add_option('--without-duplicates', action='store_true', 
            dest='distinct', help="Don't print duplicate sequences")

    opts, args = parser.parse_args()
    for path in args:
        mol = msys.Load(path)
        for s in sequence.Sequences(mol, **opts.__dict__):
            print s
        
if __name__=="__main__": exit(main())

# vim: filetype=python
