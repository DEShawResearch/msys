#!/usr/bin/env desres-exec
# -*- python -*-
#{
# desres-cleanenv -m numpy/1.6.2-31A/lib-python \
# -- python $0 "$@"
#}

'''
dms-validate system.dms [ options ]

Performs various sanity checks on your dms file.

'''

import sys, os
sys.path.insert(0,os.path.join(os.path.dirname(__file__),'..','lib','python'))

import msys
from msys import validate

def main():
    import optparse
    parser = optparse.OptionParser(__doc__)
    parser.add_option('--strict', action='store_true', default=False)
    parser.add_option('--desmond', action='store_true', default=False)
    parser.add_option('--verbose', action='store_true', default=False)

    opts, args = parser.parse_args()
    if len(args)!=1:
        parser.error("incorrect number of arguments")

    mol=msys.LoadDMS(args[0])
    result=validate.Validate(mol, **opts.__dict__)
    return not result.wasSuccessful()

if __name__=="__main__": exit(main())

# vim: filetype=python
